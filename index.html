<!DOCTYPE html>
historyBox.textContent=history.join("\n\n------------------\n\n");
}


function editPlayer(i){
const newName=prompt("à¹à¸à¹‰à¹„à¸‚à¸Šà¸·à¹ˆà¸­à¸œà¸¹à¹‰à¹à¸‚à¹ˆà¸‡à¸‚à¸±à¸™:",players[i].name);
if(!newName) return;
players[i].name=newName.trim();
renderPlayers();
}


function deletePlayer(i){
if(!confirm("à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸¥à¸šà¸œà¸¹à¹‰à¹à¸‚à¹ˆà¸‡à¸‚à¸±à¸™à¸„à¸™à¸™à¸µà¹‰à¹ƒà¸Šà¹ˆà¹„à¸«à¸¡?")) return;
players.splice(i,1);
renderPlayers();
}




document.getElementById("addBtn").addEventListener("click",()=>{
const name=document.getElementById("playerName").value.trim();
if(!name) return;
players.push({name,score:0});
document.getElementById("playerName").value="";
renderPlayers();
});


document.getElementById("shuffleBtn").addEventListener("click",shuffleBreakOrder);




endBtn.addEventListener("click",()=>{
if(players.length===0) return;


const today=new Date().toLocaleDateString("th-TH");
const month=new Date().toLocaleString("th-TH",{month:"long",year:"numeric"});


let record = mode==="9ball"
? `ðŸ“… Season à¹€à¸”à¸·à¸­à¸™: ${month} (${today})\n`
: `ðŸ“… à¸ˆà¸šà¸§à¸±à¸™: ${today} (8BALL)\n`;


players.forEach(p=>{ record += `â€¢ ${p.name}: ${p.score} à¸„à¸°à¹à¸™à¸™\n`; });


history.unshift(record);
players.forEach(p=>p.score=0);


saveData();
renderPlayers();
renderHistory();


alert("âœ… à¸šà¸±à¸™à¸—à¸¶à¸à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢!");
});




function switchMode(newMode){
mode=newMode;
loadData();
renderPlayers();
renderHistory();
updateBreakDisplay();


document.getElementById("tab9").classList.toggle("active",mode==="9ball");
document.getElementById("tab8").classList.toggle("active",mode==="8ball");


if(mode==="9ball"){
endBtn.textContent="âœ… à¸ˆà¸š Season";
historyTitle.textContent="ðŸ“Š à¸ªà¸–à¸´à¸•à¸´à¸£à¸²à¸¢à¹€à¸”à¸·à¸­à¸™ (9-Ball)";
} else {
endBtn.textContent="âœ… à¸ˆà¸šà¸§à¸±à¸™";
historyTitle.textContent="ðŸ“Š à¸ªà¸–à¸´à¸•à¸´à¸£à¸²à¸¢à¸§à¸±à¸™ (8-Ball)";
}
}


document.getElementById("tab9").addEventListener("click",()=>switchMode("9ball"));
document.getElementById("tab8").addEventListener("click",()=>switchMode("8ball"));


switchMode("9ball");


window.addNormal=addNormal;
window.addSpecial9=addSpecial9;
window.subScore=subScore;
window.editPlayer=editPlayer;
window.deletePlayer=deletePlayer;
</script>


</body>
</html>
